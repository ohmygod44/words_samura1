<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å˜èªé“å ´-æ­¦å£«é“ã®å¿ƒå¾—-</title>
    <link rel="stylesheet" href="styles.css">
    
    <link rel="icon" href="favicon.jpeg" type="image/jpeg">

</head>
<body>

   
    <div class="container">
        <header>
            <h1>ğŸ“š å˜èªé“å ´ ğŸ“š</h1>
        </header>

        <div class="upload-section" id="uploadSection">
            <div class="upload-box">
                <div class="upload-icon">ğŸ“„</div>
                <h2>ãƒ‡ãƒ¼ã‚¿ã‚’é¸æŠã—ã¦ãã ã•ã„</h2>
                
                <!-- ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒœã‚¿ãƒ³ -->
                <div class="data-selection">
                    <button class="sample-btn" onclick="loadSampleData()">
                        ğŸ›¸å¿œç”¨æƒ…å ±ç”¨èªé›†ã‚’ä½¿ã†ğŸ›¸
                    </button>
                    <div class="or-divider">ã¾ãŸã¯</div>
                </div>
                
                <p>CSVãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰<br>
                    å˜èª,æ„å‘³ ã®å½¢å¼ã§ä½œæˆã—ã¦ãã ã•ã„</p>

                <input type="file" id="csvFile" accept=".csv" class="file-input">
                <button class="upload-btn" onclick="document.getElementById('csvFile').click()">
                    ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é¸æŠ
                </button>
                <div class="file-info" id="fileInfo"></div>
            </div>
        </div>

        <div class="app-section" id="appSection" style="display: none;">
            <div class="controls">
                <button class="btn btn-primary" onclick="startStudy()">ğŸŒ¸ ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰</button>
                <button class="btn btn-quiz" onclick="startQuiz()">ğŸ¯ 4æŠã‚¯ã‚¤ã‚º</button>
                <button class="btn btn-secondary" onclick="showWordList()">ğŸ“ å˜èªä¸€è¦§</button>
                <button class="btn btn-thirry" onclick="resetApp()">ğŸ”„ ãƒ‡ãƒ¼ã‚¿å¤‰æ›´</button>
            </div>

            <div class="study-area" id="studyArea" style="display: none;">
                <div class="mode-indicator">
                    <span class="mode-badge" id="modeBadge">ğŸŒ¸ ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="progress"></div>
                    <div class="progress-text" id="progressText">1 / 10</div>
                </div>
                <div class="word-card">
                    <div class="word-display" id="wordDisplay"></div>
                    <div class="meaning-display" id="meaningDisplay" style="display: none;"></div>
                    <div class="card-controls">
                        <button class="btn btn-show" id="showBtn" onclick="showMeaning()">ğŸ’– æ„å‘³ã‚’è¡¨ç¤º</button>
                        <button class="btn btn-next" id="nextBtn" onclick="nextWord()" style="display: none;">âœ¨ æ¬¡ã®å˜èª</button>
                    </div>
                </div>
                <div class="study-controls">
                    <button class="btn btn-secondary" onclick="shuffleWords()">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
                    <button class="btn btn-secondary" onclick="resetStudy()">ğŸŒ± æœ€åˆã‹ã‚‰</button>
                </div>
            </div>

            <div class="quiz-area" id="quizArea" style="display: none;">
                <div class="mode-indicator">
                    <span class="mode-badge quiz-badge">ğŸ¯ 4æŠã‚¯ã‚¤ã‚ºãƒ¢ãƒ¼ãƒ‰</span>
                </div>
                <div class="progress-bar">
                    <div class="progress" id="quizProgress"></div>
                    <div class="progress-text" id="quizProgressText">1 / 10</div>
                </div>
                <div class="score-display">
                    <div class="score-item">
                        <span class="score-label">æ­£è§£æ•°</span>
                        <span class="score-value" id="correctScore">0</span>
                    </div>
                    <div class="score-item">
                        <span class="score-label">æ­£è§£ç‡</span>
                        <span class="score-value" id="accuracyScore">0%</span>
                    </div>
                </div>
                <div class="quiz-card">
                    <div class="quiz-question" id="quizQuestion"></div>
                    <div class="quiz-options" id="quizOptions"></div>
                    <div class="quiz-result" id="quizResult" style="display: none;"></div>
                    <div class="quiz-controls">
                        <button class="btn btn-next" id="quizNextBtn" onclick="nextQuiz()" style="display: none;">âœ¨ æ¬¡ã®å•é¡Œ</button>
                    </div>
                </div>
                <div class="study-controls">
                    <button class="btn btn-secondary" onclick="shuffleWords()">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
                    <button class="btn btn-secondary" onclick="resetQuiz()">ğŸŒ± æœ€åˆã‹ã‚‰</button>
                </div>
            </div>

            <div class="word-list" id="wordList" style="display: none;">
                <h3>ğŸ“š å˜èªä¸€è¦§ (<span id="wordCount">0</span>èª)</h3>
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="ğŸ” å˜èªã‚’æ¤œç´¢..." onkeyup="filterWords()">
                </div>
                <div class="words-grid" id="wordsGrid"></div>
            </div>
        </div>
    </div>

    <style>


@keyframes walkAround {
  
    
    0%   { left: 0px; bottom: 0; transform: rotate(0deg); }
  25%  { left: calc(100vw - 40px); bottom: 0; transform: rotate(0deg); }
  26%  { left: calc(100vw - 40px); bottom: 0; transform: rotate(-90deg); }
  50%  { left: calc(100vw - 32px); bottom: calc(100vh - 32px); transform: rotate(-90deg); }
  51%  { left: calc(100vw - 32px); bottom: calc(100vh - 32px); transform: rotate(-180deg); }
  75%  { left: 0; bottom: calc(100vh - 32px); transform: rotate(-180deg); }
  76%  { left: 0; bottom: calc(100vh - 32px); transform: rotate(-270deg); }
  100% { left: 0; bottom: 0; transform: rotate(-270deg); }


}


.running-animal {
  position: fixed;
  bottom: 0;
  left: -150px;
  width: 32px;
  animation: walkAround 1200s linear infinite;
  z-index: 9999;
  transform-origin: center center; /* å›è»¢ã®ä¸­å¿ƒã‚’çœŸã‚“ä¸­ã«ã™ã‚‹ */
}

/* ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ãƒœã‚¿ãƒ³ã®ã‚¹ã‚¿ã‚¤ãƒ« */
.data-selection {
    margin-bottom: 30px;
}

.sample-btn {
    background: linear-gradient(45deg, #b6faf7, #5aa6c4);
    color: #ffffff;
    border: none;
    padding: 18px 36px;
    border-radius: 30px;
    font-size: 1.1em;
    cursor: pointer;
    transition: all 0.3s;
    box-shadow: 0 5px 15px rgba(168, 237, 234, 0.4);
    font-weight: 600;
    margin-bottom: 20px;
}

.sample-btn:hover {
    transform: translateY(-3px);
    box-shadow: 0 8px 25px rgba(168, 237, 234, 0.5);
    background: linear-gradient(45deg, #7ee8e4, #fdc2e0);
}

.or-divider {
    color: #888;
    font-size: 1em;
    margin: 15px 0;
    position: relative;
}

.or-divider::before,
.or-divider::after {
    content: '';
    position: absolute;
    top: 50%;
    width: 40%;
    height: 1px;
    background: linear-gradient(to right, transparent, #ddd, transparent);
}

.or-divider::before {
    left: 0;
}

.or-divider::after {
    right: 0;
}
</style>

</style>

<img src="animal.gif" class="running-animal" alt="ã‹ã‚ã„ã„å‹•ç‰©">


<div class="emoji-container"></div>


    <script>
        let wordData = [];
        let currentIndex = 0;
        let isShuffled = false;
        let filteredWords = [];
        let currentMode = 'flashcard'; // 'flashcard' or 'quiz'
        let quizScore = { correct: 0, total: 0 };
        let currentQuizOptions = [];

        // data.csvã‚’èª­ã¿è¾¼ã‚€é–¢æ•°
        async function loadSampleData() {
            try {
                const response = await fetch('data.csv');
                if (response.ok) {
                    const csvData = await response.text();
                    parseCSV(csvData);
                    showDataLoadedMessage('data.csvã‹ã‚‰èª­ã¿è¾¼ã¿ã¾ã—ãŸ');
                } else {
                    throw new Error('data.csvãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
                }
            } catch (error) {
                console.error('data.csvèª­ã¿è¾¼ã¿ã‚¨ãƒ©ãƒ¼:', error);
                alert('data.csvãƒ•ã‚¡ã‚¤ãƒ«ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚åŒã˜ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«data.csvãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã—ã¦ãã ã•ã„ã€‚');
            }
        }

        // ãƒ‡ãƒ¼ã‚¿èª­ã¿è¾¼ã¿å®Œäº†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
        function showDataLoadedMessage(message) {
            document.getElementById('fileInfo').innerHTML = `
                <div class="file-selected">
                    <span class="file-icon">âœ¨</span>
                    <span>${message} (${wordData.length}èª)</span>
                </div>
            `;
        }

        // ãƒ•ã‚¡ã‚¤ãƒ«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰å‡¦ç†
        document.getElementById('csvFile').addEventListener('change', function(e) {
            const file = e.target.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    const csv = e.target.result;
                    parseCSV(csv);
                };
                reader.readAsText(file, 'UTF-8');
                
                document.getElementById('fileInfo').innerHTML = `
                    <div class="file-selected">
                        <span class="file-icon">âœ¨</span>
                        <span>${file.name} (${(file.size / 1024).toFixed(1)} KB)</span>
                    </div>
                `;
            }
        });

        // CSVè§£æ
        function parseCSV(csv) {
            const lines = csv.split('\n').filter(line => line.trim());
            wordData = [];
            
            for (let i = 0; i < lines.length; i++) {
                const columns = lines[i].split(',').map(col => col.trim().replace(/"/g, ''));
                if (columns.length >= 2 && columns[0] && columns[1]) {
                    wordData.push({
                        word: columns[0],
                        meaning: columns[1]
                    });
                }
            }

            if (wordData.length > 0) {
                document.getElementById('uploadSection').style.display = 'none';
                document.getElementById('appSection').style.display = 'block';
                document.getElementById('wordCount').textContent = wordData.length;
                filteredWords = [...wordData];
            } else {
                alert('CSVãƒ•ã‚¡ã‚¤ãƒ«ã®å½¢å¼ãŒæ­£ã—ãã‚ã‚Šã¾ã›ã‚“ã€‚1åˆ—ç›®ã«å˜èªã€2åˆ—ç›®ã«æ„å‘³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚');
            }
        }

        // ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰å­¦ç¿’é–‹å§‹
        function startStudy() {
            currentMode = 'flashcard';
            currentIndex = 0;
            document.getElementById('studyArea').style.display = 'block';
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('wordList').style.display = 'none';
            document.getElementById('modeBadge').textContent = 'ğŸŒ¸ ãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ãƒ¢ãƒ¼ãƒ‰';
            showCurrentWord();
        }

        // 4æŠã‚¯ã‚¤ã‚ºé–‹å§‹
        function startQuiz() {
            currentMode = 'quiz';
            currentIndex = 0;
            quizScore = { correct: 0, total: 0 };
            document.getElementById('studyArea').style.display = 'none';
            document.getElementById('quizArea').style.display = 'block';
            document.getElementById('wordList').style.display = 'none';
            updateQuizScore();
            showCurrentQuiz();
        }

        // å˜èªä¸€è¦§è¡¨ç¤º
        function showWordList() {
            document.getElementById('studyArea').style.display = 'none';
            document.getElementById('quizArea').style.display = 'none';
            document.getElementById('wordList').style.display = 'block';
            displayWordList();
        }

        // ç¾åœ¨ã®å˜èªè¡¨ç¤ºï¼ˆãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ï¼‰
        function showCurrentWord() {
            if (wordData.length === 0) return;
            
            const word = wordData[currentIndex];
            document.getElementById('wordDisplay').textContent = word.word;
            document.getElementById('meaningDisplay').textContent = word.meaning;
            document.getElementById('meaningDisplay').style.display = 'none';
            document.getElementById('showBtn').style.display = 'inline-block';
            document.getElementById('nextBtn').style.display = 'none';
            
            updateProgress();
        }

        // ç¾åœ¨ã®ã‚¯ã‚¤ã‚ºè¡¨ç¤º
        function showCurrentQuiz() {
            if (wordData.length === 0) return;
            
            const currentWord = wordData[currentIndex];
            document.getElementById('quizQuestion').textContent = `ã€Œ${currentWord.word}ã€ã®æ„å‘³ã¯ï¼Ÿ`;
            
            // é¸æŠè‚¢ã‚’ç”Ÿæˆ
            currentQuizOptions = generateQuizOptions(currentWord);
            
            const optionsContainer = document.getElementById('quizOptions');
            optionsContainer.innerHTML = '';
            
            currentQuizOptions.forEach((option, index) => {
                const button = document.createElement('button');
                button.className = 'quiz-option';
                button.textContent = option.meaning;
                button.onclick = () => selectQuizOption(index, option.isCorrect);
                optionsContainer.appendChild(button);
            });
            
            document.getElementById('quizResult').style.display = 'none';
            document.getElementById('quizNextBtn').style.display = 'none';
            
            updateQuizProgress();
        }

        // ã‚¯ã‚¤ã‚ºé¸æŠè‚¢ç”Ÿæˆ
        function generateQuizOptions(correctWord) {
            const options = [{ meaning: correctWord.meaning, isCorrect: true }];
            const otherWords = wordData.filter(w => w.meaning !== correctWord.meaning);
            
            // ãƒ©ãƒ³ãƒ€ãƒ ã«3ã¤ã®é–“é•ã„é¸æŠè‚¢ã‚’è¿½åŠ 
            while (options.length < 4 && otherWords.length > 0) {
                const randomIndex = Math.floor(Math.random() * otherWords.length);
                const wrongOption = otherWords.splice(randomIndex, 1)[0];
                options.push({ meaning: wrongOption.meaning, isCorrect: false });
            }
            
            // é¸æŠè‚¢ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«
            for (let i = options.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [options[i], options[j]] = [options[j], options[i]];
            }
            
            return options;
        }

        // ã‚¯ã‚¤ã‚ºé¸æŠè‚¢é¸æŠ
        function selectQuizOption(selectedIndex, isCorrect) {
            const options = document.querySelectorAll('.quiz-option');
            const resultDiv = document.getElementById('quizResult');
            
            // å…¨ã¦ã®é¸æŠè‚¢ã‚’ç„¡åŠ¹åŒ–
            options.forEach((option, index) => {
                option.disabled = true;
                if (currentQuizOptions[index].isCorrect) {
                    option.classList.add('correct');
                } else if (index === selectedIndex) {
                    option.classList.add('selected');
                }
            });
            
            quizScore.total++;
            if (isCorrect) {
                quizScore.correct++;
                resultDiv.innerHTML = '<div class="result-correct">ğŸ‰ æ­£è§£ï¼</div>';
                resultDiv.className = 'quiz-result correct-result';
            } else {
                resultDiv.innerHTML = '<div class="result-wrong">ğŸ’« ä¸æ­£è§£</div>';
                resultDiv.className = 'quiz-result wrong-result';
            }
            
            resultDiv.style.display = 'block';
            document.getElementById('quizNextBtn').style.display = 'inline-block';
            updateQuizScore();
        }

        // æ„å‘³è¡¨ç¤ºï¼ˆãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ï¼‰
        function showMeaning() {
            document.getElementById('meaningDisplay').style.display = 'block';
            document.getElementById('showBtn').style.display = 'none';
            document.getElementById('nextBtn').style.display = 'inline-block';
        }

        // æ¬¡ã®å˜èªï¼ˆãƒ•ãƒ©ãƒƒã‚·ãƒ¥ã‚«ãƒ¼ãƒ‰ï¼‰
        function nextWord() {
            currentIndex = (currentIndex + 1) % wordData.length;
            showCurrentWord();
        }

        // æ¬¡ã®ã‚¯ã‚¤ã‚º
        function nextQuiz() {
            currentIndex = (currentIndex + 1) % wordData.length;
            showCurrentQuiz();
        }

        // ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹æ›´æ–°
        function updateProgress() {
            const progress = ((currentIndex + 1) / wordData.length) * 100;
            document.getElementById('progress').style.width = progress + '%';
            document.getElementById('progressText').textContent = `${currentIndex + 1} / ${wordData.length}`;
        }

        // ã‚¯ã‚¤ã‚ºãƒ—ãƒ­ã‚°ãƒ¬ã‚¹æ›´æ–°
        function updateQuizProgress() {
            const progress = ((currentIndex + 1) / wordData.length) * 100;
            document.getElementById('quizProgress').style.width = progress + '%';
            document.getElementById('quizProgressText').textContent = `${currentIndex + 1} / ${wordData.length}`;
        }

        // ã‚¯ã‚¤ã‚ºã‚¹ã‚³ã‚¢æ›´æ–°
        function updateQuizScore() {
            document.getElementById('correctScore').textContent = quizScore.correct;
            const accuracy = quizScore.total > 0 ? Math.round((quizScore.correct / quizScore.total) * 100) : 0;
            document.getElementById('accuracyScore').textContent = accuracy + '%';
        }

        // ã‚·ãƒ£ãƒƒãƒ•ãƒ«
        function shuffleWords() {
            for (let i = wordData.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [wordData[i], wordData[j]] = [wordData[j], wordData[i]];
            }
            currentIndex = 0;
            if (currentMode === 'flashcard') {
                showCurrentWord();
            } else {
                showCurrentQuiz();
            }
            isShuffled = true;
        }

        // å­¦ç¿’ãƒªã‚»ãƒƒãƒˆ
        function resetStudy() {
            currentIndex = 0;
            showCurrentWord();
        }

        // ã‚¯ã‚¤ã‚ºãƒªã‚»ãƒƒãƒˆ
        function resetQuiz() {
            currentIndex = 0;
            quizScore = { correct: 0, total: 0 };
            updateQuizScore();
            showCurrentQuiz();
        }

        // å˜èªä¸€è¦§è¡¨ç¤º
        function displayWordList() {
            const grid = document.getElementById('wordsGrid');
            grid.innerHTML = '';
            
            filteredWords.forEach((word, index) => {
                const wordItem = document.createElement('div');
                wordItem.className = 'word-item';
                wordItem.innerHTML = `
                    <div class="word-item-word">${word.word}</div>
                    <div class="word-item-meaning">${word.meaning}</div>
                `;
                grid.appendChild(wordItem);
            });
        }

        // å˜èªæ¤œç´¢
        function filterWords() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            filteredWords = wordData.filter(word => 
                word.word.toLowerCase().includes(searchTerm) || 
                word.meaning.toLowerCase().includes(searchTerm)
            );
            displayWordList();
        }

        // ã‚¢ãƒ—ãƒªãƒªã‚»ãƒƒãƒˆ
        function resetApp() {
            document.getElementById('uploadSection').style.display = 'block';
            document.getElementById('appSection').style.display = 'none';
            document.getElementById('csvFile').value = '';
            document.getElementById('fileInfo').innerHTML = '';
            wordData = [];
            currentIndex = 0;
            quizScore = { correct: 0, total: 0 };
        }
    </script>

<script>
  const emojiList = ['ğŸ¥','ğŸ’','ğŸ°','ğŸ»â€â„ï¸','ğŸ¼','ğŸ¦¥','ğŸ£','ğŸˆ','ğŸŒ­','ğŸ›¸','ğŸ˜¿', 'ğŸ˜¼', 'ğŸ’–', 'ğŸ€', 'ğŸ­', 'ğŸ™€', 'ğŸ˜¾', 'ğŸ’«', 'â­', 'ğŸŒŸ',  'ğŸ§', 'ğŸ¬', 'ğŸ‰','ğŸ°','ğŸ˜»','ğŸ‘½','ğŸ¤®','ğŸ‘»','ğŸ’©','ğŸ˜»','ğŸ‘»','ğŸ˜»','ğŸ‘»','ğŸ§','ğŸƒ','ğŸ¼'];


  const container = document.querySelector('.emoji-container');

  function createEmoji() {
    const emoji = document.createElement('div');
    emoji.classList.add('emoji');
    emoji.textContent = emojiList[Math.floor(Math.random() * emojiList.length)];
    emoji.style.left = Math.random() * 100 + 'vw';
    emoji.style.top = Math.random() * 80 + 'vh'; // â† ç”»é¢ã®ã„ã‚ã‚“ãªé«˜ã•ã‹ã‚‰å‡ºã‚‹ï¼
    emoji.style.fontSize = (Math.random() * 3 + 2) + 'em';
    emoji.style.animationDuration = (Math.random() * 2 + 3) + 's';
    container.appendChild(emoji);
    setTimeout(() => emoji.remove(), 5000);
  }

  setInterval(createEmoji, 400);

  document.addEventListener('click', function(e) {
    const paw = document.createElement('div');
    paw.classList.add('paw-stamp');
    paw.textContent = 'ğŸ¾';
    paw.style.left = e.clientX + 'px';
    paw.style.top = e.clientY + 'px';
    document.body.appendChild(paw);
    setTimeout(() => paw.remove(), 1200);
  });
</script>





</body>
</html>


